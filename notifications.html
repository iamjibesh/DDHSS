<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-TWMKWTSFD6"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-TWMKWTSFD6");
    </script>

    <!-- Metadata -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Bootstrap link -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- Bootstrap icon link -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,400;0,600;0,800;1,200;1,400;1,600;1,800&display=swap"
      rel="stylesheet"
    />

    <!-- Local css -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="faculty.css" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="images/favicon.png" type="image/x-icon" />
    <title>Notifications - DDHSS</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav
      class="navbar fixed-top navbar-expand-lg bg-body-tertiary position-sticky"
    >
      <div class="container-fluid">
        <div class="logo-section">
          <a href="index.html">
            <img
              class="logo"
              src="images/logo.png"
              alt="logo of Dhepdhepi HS School"
            />
          </a>
          <a class="navbar-brand" href="index.html">DDHSS</a>
        </div>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0 w-100 text-center">
            <li class="nav-item ms-lg-auto">
              <a class="nav-link" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="gallery.html">Gallery</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="faculty.html">Faculty</a>
            </li>
            <!-- Dropdown -->
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                More
              </a>
              <div
                class="dropdown-menu text-center"
                aria-labelledby="navbarDropdown"
              >
                <a class="dropdown-item active" href="notifications.html"
                  >Notifications</a
                >
                <a class="dropdown-item" href="downloads.html">Downloads</a>
                <a class="dropdown-item" href="calender.html"
                  >Holiday Calendar</a
                >
              </div>
            </li>
            <!-- Dropdown Ends -->

            <li class="nav-item">
              <a class="nav-link" href="index.html#contact-us">Contact Us</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header Section -->
    <div
      class="gallery-header mb-0"
      style="
        background: rgb(62, 180, 137);
        background: linear-gradient(
          159deg,
          rgba(62, 180, 137, 1) 0%,
          rgba(144, 238, 144, 1) 100%
        );
      "
    >
      <h2 style="font-size: 40px">Notifications</h2>
    </div>

    <!-- Notification Section -->
    <div class="notifications-container m-5">
      <!-- Google sheet notifications -->
      <style>
        /* 1. Main Container Style */
        #notification-container {
          border: 2px solid #198754; /* Matches btn-success green */
          border-radius: 8px; /* Softens the corners */
          padding: 20px;
          max-width: 800px;
          margin: 20px auto;
          background-color: #f9fcfa; /* Very faint green background tint */
        }

        /* 2. Desktop View (Default) */
        .notice-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          padding-bottom: 15px;
          margin-bottom: 15px;

          /* The separator line: Light Green */
          border-bottom: 1px dashed #badbcc;
        }

        /* Remove border from the last item so it doesn't look weird */
        .notice-item:last-child {
          border-bottom: none;
          margin-bottom: 0;
          padding-bottom: 0;
        }

        .notice-text-group {
          flex: 1;
          padding-right: 15px;
        }

        .notice-btn-group {
          white-space: nowrap;
          margin-top: 0;
        }

        /* 3. Mobile View (Screens smaller than 600px) */
        @media (max-width: 600px) {
          .notice-item {
            flex-direction: column;
          }

          .notice-btn-group {
            margin-top: 10px;
            width: 100%;
          }

          /* Optional: Make button full width on mobile for easier tapping */
          .notice-btn-group .btn {
            display: block;
            width: 100%;
          }

          .notice-text-group {
            padding-right: 0;
          }
        }
      </style>

      <div id="notification-container">
        <h3
          style="
            border-bottom: 2px solid #198754;
            padding-bottom: 10px;
            color: #198754;
            margin-top: 0;
          "
        >
          üì¢ School Notices
        </h3>

        <ul id="notice-list" style="list-style: none; padding: 0; margin: 0">
          <li>Loading notices...</li>
        </ul>
      </div>

      <script>
        // PASTE YOUR GOOGLE SHEET TSV LINK HERE
        const sheetUrl =
          "https://docs.google.com/spreadsheets/d/e/2PACX-1vQNIUh0ycyrrFubdxOX4hsahqF-98tX4akQjXlJdMKjtYZ80ERBtjqTU4m6MZ1Zi-0wlaO3KkCrloI8/pub?output=tsv";

        async function fetchNotices() {
          try {
            // Add a unique timestamp to the URL to force a fresh download
            const response = await fetch(
              sheetUrl + "&t=" + new Date().getTime()
            );
            const data = await response.text();

            const rows = data.split("\n").slice(1);
            const list = document.getElementById("notice-list");
            list.innerHTML = "";

            rows.forEach((row) => {
              const cols = row.split("\t");

              if (cols.length >= 2) {
                const date = cols[0].trim();
                const notice = cols[1].trim();
                const link = cols[2] ? cols[2].trim() : "";

                if (date && notice) {
                  const li = document.createElement("li");
                  li.className = "notice-item"; // Use our new CSS class

                  let htmlContent = `
                            <div class="notice-text-group">
                                <span style="display:block; color: #198754; font-weight: bold; font-size: 0.85em; margin-bottom: 4px;">üìÖ ${date}</span>
                                <span style="font-size: 1.05em; color: #333; line-height: 1.4;">${notice}</span>
                            </div>
                        `;

                  if (link.length > 5) {
                    htmlContent += `
                                <div class="notice-btn-group">
                                    <a href="${link}" target="_blank" class="btn btn-success btn-sm">
                                         Download
                                    </a>
                                </div>
                            `;
                  }

                  li.innerHTML = htmlContent;
                  list.appendChild(li);
                }
              }
            });
          } catch (error) {
            console.error("Error:", error);
            document.getElementById("notice-list").innerHTML =
              '<li style="color:red;">Unable to load notices.</li>';
          }
        }

        fetchNotices();
      </script>
      <!-- Google sheet notifications Ends -->

      <!-- Old Notification System -->
      <!-- Notification Element Start -->
      <!-- <div class="alert alert-success" role="alert">
        <p>
          Class X Pre Board Examination 2025 Proramme(Dhubri District).
          (Routine)
        </p>
        <a
          href="https://www.dropbox.com/scl/fi/99k8ose9vjrxknnennhmt/Pre-Board-Routine-2025.pdf?rlkey=dizwgco2xwzbo7rp6awlartjh&st=j2s9yhvh&raw=1"
        >
          <button type="button" class="btn btn-success">Download</button>
        </a>
      </div> -->
      <!-- Notification Element End -->
      <!-- Old Notification System -->
    </div>
    <!-- Footer Section -->
    <section class="footer">
      <div class="footer-container">
        <div class="social">
          <a
            target="_blank"
            rel="noopener noreferrer"
            href="https://www.facebook.com/share/g/14sbGfnjdY/"
            ><i class="bi bi-facebook"></i
          ></a>
          <a href="mailto:dhepdhepihs@gmail.com"
            ><i class="bi bi-envelope-at-fill"></i
          ></a>
        </div>
        <div class="copyright">
          <p class="copyright-text mt-3 mb-0">¬© Copyright 2025 DDHSS</p>
        </div>
        <div class="love">
          <p>
            Made with ‚ù§ by
            <a
              target="_blank"
              rel="noopener noreferrer"
              href="https://www.facebook.com/jibeshsaha"
              >Jibesh Saha</a
            >
          </p>
        </div>
      </div>
    </section>

    <!-- Bootstrap Javascript -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
